# Hardware Subscription POC

#### Request (device -> server) specification:
  - `device_id`: Used to uniquely identify a device and check its
    subscription validity.
  - `device_nonce`: Random number generated at request time.  Prevents
    replay attacks by making each request-response pair unique.

#### Response (server -> device) specification:
  - `device_id`: Ensures response is tied specifically to this device.
  - `device_nonce`: The nonce that the device generated in its request.
  - `server_nonce`: A sequential nonce generated by the server that
    helps to prevent replay attacks.  If an attacker tries to replay
    an old response, the device will reject it because the
    `server_nonce` won't be incremented as expected.

#### Device:
  - Should periodically call `Device.increase_time(delta)` to track
    the total running time since the last status refresh.
  - Should periodically call `Device.check() -> bool` to verify
    whether it's still allowed to operate.
  - Should call `Device.refresh()` at least once a week to update its
    status from the server.
